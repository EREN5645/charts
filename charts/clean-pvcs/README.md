# clean-pvcs

![Version: 0.3.1](https://img.shields.io/badge/Version-0.3.1-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 1.16.0](https://img.shields.io/badge/AppVersion-1.16.0-informational?style=flat-square)

Delete PVCs not mounted for some time

**Homepage:** <https://celo.org>

## Maintainers

| Name | Email | Url |
| ---- | ------ | --- |
| cLabs | <devops@clabs.co> | <https://clabs.co> |

## Source Code

* <https://github.com/celo-org/charts/blob/main/charts/clean-pvcs/templates/cronjob.yaml>

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| affinity | object | `{}` | Kubernetes pod affinity |
| cronjob.args | list | `[]` | Override the args expression if needed. |
| cronjob.component | string | `"tx-nodes"` | Component to delete. Valid values are validators, tx-nodes, fullnodes |
| cronjob.extraFlagsPod | string | `""` | Extra cmd flags to pass to the delete pod command |
| cronjob.extraFlagsPvc | string | `""` | Extra cmd flags to pass to the delete pvc command |
| cronjob.extraSkippedPvc | list | `[{"component":"validators","index":0},{"component":"validators","index":1},{"component":"validators","index":2},{"component":"tx-nodes","index":1}]` | Extra PVC index(es) to skip deletion |
| cronjob.podIndex | int | `0` | Statefulset index to delete |
| cronjob.schedule | string | `"0 10,22 * * *"` | Cron expression for the CronJob. As reference for mainnet, the sync speed is around ~2000 blocks/minute, with a blockTime of 5 seconds, 1 day are 17280 blocks (so one day of sync is around 9 minutes) |
| fullnameOverride | string | `""` | Chart full name override |
| image.pullPolicy | string | `"IfNotPresent"` | Image pullpolicy |
| image.repository | string | `"bitnami/kubectl"` | Image repository |
| image.tag | string | `"latest"` | Image tag Overrides the image tag whose default is the chart appVersion. |
| imagePullSecrets | list | `[]` | Image pull secrets |
| nameOverride | string | `""` | Chart name override |
| nodeSelector | object | `{}` | Kubernetes node selector |
| podAnnotations | object | `{}` | Custom pod annotations |
| podSecurityContext | object | `{}` | Custom pod security context |
| resources | object | `{}` | Container resources |
| securityContext | object | `{}` | Custom container security context |
| serviceAccount.annotations | object | `{}` | Annotations to add to the service account |
| serviceAccount.name | string | `""` | The name of the service account to use. If not set a name is generated using the fullname template |
| tolerations | list | `[]` | Kubernetes tolerations |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs](https://github.com/norwoodj/helm-docs). To regenerate run `helm-docs` command at this folder.
